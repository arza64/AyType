<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AyType</title>
  <!-- External CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">

    <!-- ========== HEADER / NAVBAR ========== -->
    <header>
      <nav class="navbar">
        <h1>AyType Latihan Mengetik!</h1>
        <div class="nav-buttons">
          <button id="btnHome" class="btn-home">Home</button>
          <button id="btnTyping" class="btn-typing">Tes Mengetik</button>
          <button id="btnMode" class="btn-mode">Mode</button>
        </div>
      </nav>
    </header>

    <!-- ========== MAIN CONTENT ========== -->
    <main>

      <!-- ===== Home Section ===== -->
      <section id="homeSection">
        <h1>Selamat datang!</h1>
        <p>AyTpye Latihan Mengetik.</p>
      </section>

      <!-- ===== Typing Test Section ===== -->
      <section id="typingSection" class="hidden">
        <div class="typing-container">

          <!-- Judul Tes -->
           <header>
          <h1>Typing Test Indonesia</h1>
        </header>

          <!-- Word Container -->
      <div class="typing-wrapper">
  <div id="wordbar" class="word-bar"></div>
</div>

         <!-- Timer dan Input -->
          <div class="input-timer-wrapper">
           <div class="timer-box">
            <span id="timer">60</span>
          </div>

         <!-- Input Bar -->
          <div id="inputBar">
           <input 
             type="text"
             id="input"
             class="typing-input"
             placeholder="Mulai mengetik..."
             autocomplete="off"
             autofocus
           />
          </div>

  <!-- Tombol Restart -->
  <button class="btn-restart" onclick="restartTest()">Refresh</button>
</div>

         <!-- Result Area -->          
             <div id="resultStruk" class="receipt-card hidden">
              <h2>• AyType Test •</h2>

            <p class="date-line">
              <span id="dayName"></span>
              <span id="fullDate"></span>
            </p>
        
             <hr />
              <p class="wpm">0 WPM</p>
             <hr />

          <div class="result-section">
             <p>Total Benar     : 0 kata</p>
             <p>Total Salah     : 0 kata</p>
             <p>Akurasi         : 0,00%</p>
             <p>Total Karakter  : 0</p>
             <p class="indent">Hijau : 0</p>
             <p class="indent">Merah : 0</p>
             <p>Waktu           : 60 Detik</p>
             <p>Title           : <span id="title">-</span></p>
          </div>

          <hr />
            <div class="motivasi">
             <p>Hasil Test kamu HEBAT!</p>
             <p>Test selanjutnya harus lebih baik ya!</p>
            </div>

          <hr />
             <p class="footer">TERIMAKASIH TELAH BERMAIN!!!</p>
          <hr />

            <div class="buttons">
             <button id="btnShareResult">Bagikan Hasil</button>
             <button onclick="restartTest()">Mulai Test Baru</button>
             <button id="btnDownloadImage" class="btn-download">Download Gambar</button>
            </div>
         </div>
      </div>

          <!-- Virtual Keyboard -->
          <div id="virtualKeyboard" class="hidden">
          <div class="keyboard">
            <!-- Baris 1 -->
            <div class="key-row">
              <div class="key" data-key="Q">Q</div>
              <div class="key" data-key="W">W</div>
              <div class="key" data-key="E">E</div>
              <div class="key" data-key="R">R</div>
              <div class="key" data-key="T">T</div>
              <div class="key" data-key="Y">Y</div>
              <div class="key" data-key="U">U</div>
              <div class="key" data-key="I">I</div>
              <div class="key" data-key="O">O</div>
              <div class="key" data-key="P">P</div>
            </div>

            <!-- Baris 2 -->
            <div class="key-row">
              <div class="key" data-key="A">A</div>
              <div class="key" data-key="S">S</div>
              <div class="key" data-key="D">D</div>
              <div class="key" data-key="F">F</div>
              <div class="key" data-key="G">G</div>
              <div class="key" data-key="H">H</div>
              <div class="key" data-key="J">J</div>
              <div class="key" data-key="K">K</div>
              <div class="key" data-key="L">L</div>
            </div>

            <!-- Baris 3 -->
            <div class="key-row">
              <div class="key" data-key="Z">Z</div>
              <div class="key" data-key="X">X</div>
              <div class="key" data-key="C">C</div>
              <div class="key" data-key="V">V</div>
              <div class="key" data-key="B">B</div>
              <div class="key" data-key="N">N</div>
              <div class="key" data-key="M">M</div>
            </div>

            <!-- Spacebar -->
            <div class="key-row">
              <div class="key space-key" data-key=" " style="width: 240px">Space</div>
            </div>
          </div>

        </div>
      </section>

      <!-- ===== Mode Section ===== -->
      <section id="modeSection" style="display:none;">
        <!-- Untuk pengembangan mode latihan atau level -->
      </section>

    </main>

    <!-- ========== FOOTER ========== -->
    <footer>
      <p>© 2025 AyType. Latihan agar menjadi Cepat dan Akurat dalam Mengetik!</p>
    </footer>
  </div>

<!-- External JS SCRIPT-->
  <script src="script.js"></script>
<!-- Tambahkan ini setelah tombol -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<!-- Fungsi JavaScript untuk download gambar -->
  <script>
document.addEventListener("DOMContentLoaded", () => {
  const btnDownload = document.getElementById("btnDownloadImage");
  const resultDiv = document.getElementById("resultStruk");

  btnDownload.addEventListener("click", () => {
    // Tambahkan class agar dipaksa terlihat (mengabaikan .hidden)
    resultDiv.classList.add("temp-visible");
    resultDiv.classList.remove("hidden");

    setTimeout(() => {
      html2canvas(resultDiv, {
        scale: 2,
        backgroundColor: "#ffffff",
        useCORS: true
      }).then(canvas => {
        const link = document.createElement("a");
        link.download = "hasil-aytype.png";
        link.href = canvas.toDataURL("image/png");
        link.click();

        // Kembalikan ke keadaan semula setelah screenshot
        resultDiv.classList.remove("temp-visible");
        resultDiv.classList.add("hidden");
      });
    }, 500);
  });
});
</script>
</script>
</body>
</html>
